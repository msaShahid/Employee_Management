<div class="parent">
  <div class="container login-container">
    <div class="card login-card shadow p-4" style="width: 30rem;">
      <h3 class="text-center mb-4">Registration</h3>
      <form [formGroup]="useForm" (ngSubmit)="onRegister()">
        <div *ngIf="errorMessage" class="text-danger fw-bold p-2 text-center">
          {{ errorMessage }}
        </div>
        <div class="mb-3">
          <label for="username" class="form-label">Username</label>
          <input
            type="text"
            class="form-control"
            id="username"
            formControlName="username"
            placeholder="Enter your username"
          />
          <div
            *ngIf="useForm.controls['username'].touched && useForm.controls['username'].invalid"
            class="text-danger"
          >
            <div *ngIf="useForm.controls['username'].errors?.['required']">
              Username is required
            </div>
            <div *ngIf="useForm.controls['username'].errors?.['minlength']">
              Username must be at least 3 characters
            </div>
          </div>
        </div>
        <div class="mb-3">
          <label for="email" class="form-label">Email address</label>
          <input
            type="email"
            class="form-control"
            id="email"
            formControlName="email"
            placeholder="Enter your email"
          />
          <div
            *ngIf="useForm.controls['email'].touched && useForm.controls['email'].invalid"
            class="text-danger"
          >
            <div *ngIf="useForm.controls['email'].errors?.['required']">
              Email is required
            </div>
            <div *ngIf="useForm.controls['email'].errors?.['email']">
              Please enter a valid email address
            </div>
          </div>
        </div>
        <div class="mb-3">
          <label for="password" class="form-label">Password</label>
          <input
            [type]="isConfirmPasswordVisible ? 'text' : 'password'"
            class="form-control"
            id="password"
            formControlName="password"
            placeholder="Enter your password"
          />
          
          <div
            *ngIf="useForm.controls['password'].touched && useForm.controls['password'].invalid"
            class="text-danger"
          >
            <div *ngIf="useForm.controls['password'].errors?.['required']">
              Password is required
            </div>
            <div *ngIf="useForm.controls['password'].errors?.['minlength']">
              Password must be at least 6 characters
            </div>
          </div>
        </div>
        <div class="mb-3">
          <label for="confirmPassword" class="form-label">Confirm Password</label>
          <input
            [type]="isConfirmPasswordVisible ? 'text' : 'password'"
            class="form-control"
            id="confirmPassword"
            formControlName="confirmPassword"
            placeholder="Confirm your password"
          />
          <div *ngIf="useForm.controls['confirmPassword'].touched && useForm.controls['confirmPassword'].invalid" class="text-danger">
            <div *ngIf="useForm.controls['confirmPassword'].errors?.['required']">
              Confirm password is required
            </div>
            <div *ngIf="useForm.controls['confirmPassword'].errors?.['passwordsMismatch']">
              Passwords do not match
            </div>
          </div>
        </div>
        <div class="d-grid gap-2">
          <button type="submit" [disabled]="useForm.invalid" class="btn btn-primary">Register</button>
        </div>
      </form>
      <a class="nav-link mt-2" routerLink="/login">Have an account? Login</a>
    </div>
  </div>
</div>
